---
layout: post
title:  "一次 mp4 播放到底经历了什么"
author: "daweibayu"
tags: 音视频
excerpt_separator: <!--more-->
---

<!--more-->





一次 mp4 播放到底经历了什么

问题缘由
公司视频使用的是 hls（m3u8）。在讨论如何优化加载速度时，有同事提议换为 mp4，理由是 cdn 友好，但细节其实大家都不了解。具体如何加载 mp4 数据？mp4  具体格式内容又是什么？不甚了了，遂有此文。

主要解释两个问题：
* 什么是 mp4
* 一次 mp4 播放到底经历了什么

测试数据1 oceans.mp4	测试数据2 BigBuckBunny.mp4（google 测试链接，大概率不会无效，但….你懂的，备用）
http://techslides.com/demos/sample-videos/small.mp4
https://www.radiantmediaplayer.com/media/big-buck-bunny-360p.mp4




一次 mp4 播放到底经历了什么
RFC 6416 - RTP Payload Format for MPEG-4 Audio/Visual Streams
RTP Payload Format for MPEG-4 Audio/Visual Streams

RFC 3550 - RTP: A Transport Protocol for Real-Time Applications，传输层协议
RTP Control Protocol - Wikipedia，/RTCP(RTP Control Protocol)/ is a sister protocol of the  Real-time Transport Protocol，传输层协议
RFC 2326 - Real Time Streaming Protocol (RTSP)，应用层协议

RTP：

Dash 视频串流技术 | Verne in GitHub
DASH、HLS和MP4格式有什么播放体验区别_caodongfang126的博客-CSDN博客
FMP4与DASH的概念理解-呱牛笔记
Asterisk播放mp4（6）——音视频同步 - 简书
MP4大文件虚拟HLS分片技术，避免服务器大量文件碎片 - haibindev - 博客园
实时传输协议RTP/RTCP - 简书
安卓中的进程模型
